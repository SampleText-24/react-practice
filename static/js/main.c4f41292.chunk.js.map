{"version":3,"sources":["redux/dialogs-reducer.js","components/Users/Users.module.css","assets/images/c01278219b37218b4e0d49713ae21b70.jpg","components/common/Preloader/Loader.module.css","api/api.js","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","utils/object-helper.js","redux/users-reducer.js","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/common/Pagination/Pagination.module.css","components/common/Forms/Forms.js","components/common/Preloader/Loader.jsx","components/common/Forms/Forms.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","instance","axios","withCredentials","baseURL","headers","profileAPI","getProfile","userId","get","getStatus","updateStatus","status","put","usersAPI","getUsers","currentPage","pageSize","then","response","data","follow","post","unfollow","delete","authAPI","me","login","email","password","rememberMe","logout","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","Navbar","className","c","nav","item","to","activeClassName","activeLink","updateObjactInArray","items","itemID","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","userID","unfollowSucces","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","button","button1","onClick","p","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","disabled","some","Users","props","key","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","setCurrentPage","this","Loader","React","Component","compose","connect","page","Header","header","alt","loginBlock","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","createField","Input","required","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","ProfilePage","profileReducer","DialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","path","render","UsersContainer","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","placeholder","component","validators","text","validate","lds_hourglass","value","maxLengthCreator","maxLength","posts","likes","profile","addPostActionCreator","newPostElement","setStatus","newPost","postID"],"mappings":"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","file":"static/js/main.c4f41292.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Sample User 1\" },\n    { id: 2, name: \"Sample User 2\" },\n    { id: 3, name: \"Sample User 3\" },\n    { id: 4, name: \"Sample User 4\" },\n    { id: 5, name: \"Sample User 5\" },\n  ],\n  messages: [\n    { id: 1, message: \"hi\" },\n    { id: 2, message: \"how ya\" },\n    { id: 3, message: \"i'm fine\" },\n    { id: 4, message: \"thanks\" },\n    { id: 5, message: \"where is my money Lebowsky?!\" },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_MESSAGE:\n      let newMessage = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, { id: 6, message: newMessage }],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addMessageActionCreator = (newMessageBody) => ({\n  type: ADD_MESSAGE,\n  newMessageBody,\n});\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2VyZG\"};","module.exports = __webpack_public_path__ + \"static/media/c01278219b37218b4e0d49713ae21b70.392f9578.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_hourglass\":\"Loader_lds_hourglass__lMPrD\"};","import * as axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"c86c86be-df6c-47b3-bc88-49649cfa1d8f\",\n  },\n});\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/${userId}`);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status });\n  },\n};\n\nexport const usersAPI = {\n  getUsers(currentPage, pageSize) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => response.data);\n  },\n  follow(userId) {\n    return instance.post(`follow/${userId}`);\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`);\n  },\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(\"auth/me\");\n  },\n  login(email, password, rememberMe = false) {\n    return instance.post(\"auth/login\", { email, password, rememberMe });\n  },\n  logout() {\n    return instance.delete(\"auth/login\");\n  },\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Sj1xS\",\"item\":\"Navbar_item___SOan\",\"activeLink\":\"Navbar_activeLink__T8RGN\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport c from \"./Navbar.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className={c.nav}>\n      <div className={c.item}>\n        <NavLink to=\"/profile\" activeClassName={c.activeLink}>\n          Profile\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to=\"/dialogs\" activeClassName={c.activeLink}>\n          Messages\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to=\"\">News</NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to=\"\">Music</NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to=\"\">Settings</NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to=\"/users\" activeClassName={c.activeLink}>\n          Users\n        </NavLink>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","export const updateObjactInArray = (\n  items,\n  itemID,\n  objPropName,\n  newObjProps\n) => {\n  return items.map((u) => {\n    if (u[objPropName] === itemID) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  });\n};\n","import { authAPI, usersAPI } from \"../api/api\";\nimport { updateObjactInArray } from \"../utils/object-helper\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USER_COUNT = \"SET_TOTAL_USER_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjactInArray(state.users, action.userID, \"id\", {\n          followed: true,\n        }),\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjactInArray(state.users, action.userID, \"id\", {\n          followed: false,\n        }),\n      };\n    case SET_USERS:\n      return { ...state, users: action.users };\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage };\n    case SET_TOTAL_USER_COUNT:\n      return { ...state, totalUsersCount: action.totalCount };\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userID]\n          : state.followingInProgress.filter((id) => id !== action.userID),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID });\nexport const unfollowSucces = (userID) => ({ type: UNFOLLOW, userID });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\nexport const setTotalUsersCount = (totalCount) => ({\n  type: SET_TOTAL_USER_COUNT,\n  totalCount,\n});\nexport const toggleFollowingProgress = (isFetching, userID) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFetching,\n  userID,\n});\n\n//thunk ниже\nexport const requestUsers = (page, pageSize) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let data = await usersAPI.getUsers(page, pageSize);\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n  };\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userID,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true, userID));\n  let response = await apiMethod(userID);\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userID));\n  }\n  dispatch(toggleFollowingProgress(false, userID));\n};\n\nexport const follow = (userID) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userID, usersAPI.follow, followSuccess);\n  };\n};\n\nexport const unfollow = (userID) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userID, usersAPI.unfollow, unfollowSucces);\n  };\n};\n\nexport default usersReducer;\n","import React, { useState } from \"react\";\nimport c from \"./Pagination.module.css\";\n\nconst Pagination = ({\n  totalItemsCount,\n  pageSize,\n  currentPage,\n  onPageChanged,\n  portionSize = 10,\n}) => {\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={c.paginator}>\n      {portionNumber > 1 && (\n        <button\n          className={`${c.button} ${c.button1}`}\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          <span>❮ Prev</span>\n        </button>\n      )}\n      {pages\n        .filter(\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\n        )\n        .map((p) => {\n          return (\n            <span\n              className={`\n              ${currentPage === p && c.selectedPage} \n              ${c.pageNumber}`}\n              onClick={(e) => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          className={`${c.button} ${c.button1}`}\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          <span>Next ❯</span>\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React from \"react\";\nimport c from \"./Users.module.css\";\nimport userPhoto from \"../../assets/images/c01278219b37218b4e0d49713ae21b70.jpg\";\nimport { NavLink } from \"react-router-dom\";\nimport Pagination from \"../common/Pagination/Pagination\";\n//prettier-ignore\n\nconst User = ({user, followingInProgress, unfollow, follow}) => {\n\n  return (\n        <div>\n          <span>\n            <div>\n              <NavLink to={\"/profile/\" + user.id}>\n                <img\n                  src={user.photos.small != null ? user.photos.small : userPhoto}\n                  className={c.userPhoto}\n                />\n              </NavLink>\n            </div>\n            <div>\n              {user.followed\n                ? (<button\n                  disabled={followingInProgress.some((id) => id === user.id)}\n                  onClick={() => {unfollow(user.id)}}>unfollow</button>)\n                : (<button\n                  disabled={followingInProgress.some((id) => id === user.id)}\n                  onClick={() => {follow(user.id)}}>Follow</button>\n              )}\n            </div>\n          </span>\n          <span>\n            <span>\n              <div>{user.name}</div>\n              <div>{user.status}</div>\n            </span>\n           {/* <span>\n              <div>{\"user.location.country\"}</div>\n              <div>{\"user.location.city\"}</div>\n            </span>*/}\n          </span>\n        </div>\n  )\n\n};\n\nexport default User;\n","import React from \"react\";\nimport Pagination from \"../common/Pagination/Pagination\";\nimport User from \"./User\";\n\nconst Users = ({\n  currentPage,\n  onPageChanged,\n  totalUsersCount,\n  pageSize,\n  ...props\n}) => {\n  return (\n    <div>\n      <Pagination\n        currentPage={currentPage}\n        onPageChanged={onPageChanged}\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n      />\n      <div>\n        {props.users.map((u) => (\n          <User\n            user={u}\n            key={u.id}\n            follow={props.follow}\n            unfollow={props.unfollow}\n            followingInProgress={props.followingInProgress}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Users;\n/* <div key={u.id}>\n          <span>\n            <div>\n              <NavLink to={\"/profile/\" + u.id}>\n                <img\n                  src={u.photos.small != null ? u.photos.small : userPhoto}\n                  className={c.userPhoto}\n                />\n              </NavLink>\n            </div>\n            <div>\n              {u.followed\n                ? (<button\n                  disabled={props.followingInProgress.some((id) => id === u.id)}\n                  onClick={() => {props.unfollow(u.id)}}>unfollow</button>)\n                : (<button\n                  disabled={props.followingInProgress.some((id) => id === u.id)}\n                  onClick={() => {props.follow(u.id)}}>Follow</button>\n              )}\n            </div>\n          </span>\n          <span>\n            <span>\n              <div>{u.name}</div>\n              <div>{u.status}</div>\n            </span>\n           {/!* <span>\n              <div>{\"u.location.country\"}</div>\n              <div>{\"u.location.city\"}</div>\n            </span>*!/}\n          </span>\n        </div>*/\n","import { createSelector } from \"reselect\";\n\nexport const getUsersSelector = (state) => {\n  return state.usersPage.users;\n};\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n  return users.filter((u) => true);\n});\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress;\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  follow,\n  requestUsers,\n  setCurrentPage,\n  toggleFollowingProgress,\n  unfollow,\n} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Loader from \"../common/Preloader/Loader\";\nimport { compose } from \"redux\";\nimport {\n  getCurrentPage,\n  getFollowingInProgress,\n  getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n  getUsers,\n} from \"../../redux/users-selectors\";\n\nclass UsersAPIComponent extends React.Component {\n  componentDidMount() {\n    let { currentPage, pageSize } = this.props;\n    this.props.getUsers(currentPage, pageSize);\n    // как это было до санок\n    /* if (this.props.users.length === 0) {\n      this.props.toggleIsFetching(true);\n    } else {\n      this.props.toggleIsFetching(false);\n    }\n    if (this.props.users.length === 0) {\n      usersAPI\n        .requestUsers(this.props.currentPage, this.props.pageSize)\n        .then((data) => {\n          this.props.toggleIsFetching(false);\n          this.props.setUsers(data.items);\n          this.props.setTotalUsersCount(data.totalCount);\n        });\n    }*/\n  }\n\n  onPageChanged = (pageNumber) => {\n    let { pageSize } = this.props;\n    this.props.getUsers(pageNumber, pageSize);\n    this.props.setCurrentPage(pageNumber);\n    // как это было до санок\n    /*this.props.setCurrentPage(pageNumber);\n    this.props.toggleIsFetching(true);\n    usersAPI.requestUsers(pageNumber, this.props.pageSize).then((data) => {\n      debugger;\n      this.props.toggleIsFetching(false);\n      this.props.setUsers(data.items);\n    });*/\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Loader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          onPageChanged={this.onPageChanged}\n          unfollow={this.props.unfollow}\n          follow={this.props.follow}\n          users={this.props.users}\n          followingInProgress={this.props.followingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    toggleFollowingProgress,\n    getUsers: requestUsers,\n  })\n  //withAuthRedirect\n)(UsersAPIComponent);\n\n/*\nlet AuthRedirectComponent = withAuthRedirect(UsersAPIComponent);\n\nexport default connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  requestUsers,\n})(AuthRedirectComponent);*/\n","import React from \"react\";\nimport c from \"./Header.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header = (props) => {\n  return (\n    <header className={c.header}>\n      <img\n        src=\"https://www.roscosmos.ru/media/files/identity/roscosmos-logo-main.png\"\n        alt=\"\"\n      />\n      <div className={c.loginBlock}>\n        {props.isAuth ? (\n          <div>\n            {props.login} - <button onClick={props.logout}>Logout</button>\n          </div>\n        ) : (\n          <NavLink to={\"/login\"} activeClassName={c.activeLink}>\n            Login\n          </NavLink>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { userId, email, login, isAuth },\n});\n\n//санки ниже\nexport const getAuthUserData = () => async (dispatch) => {\n  let response = await authAPI.me();\n\n  if (response.data.resultCode === 0) {\n    let { id, email, login } = response.data.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n};\n/*export const getAuthUserData = () => (dispatch) => {\n  return authAPI.me().then((response) => {\n    if (response.data.resultCode === 0) {\n      let { id, email, login } = response.data.data;\n      dispatch(setAuthUserData(id, email, login, true));\n    }\n  });\n};*/\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  let response = await authAPI.login(email, password, rememberMe);\n  if (response.data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    let message =\n      response.data.messages.length > 0\n        ? response.data.messages[0]\n        : \"Где то косяк\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  let response = await authAPI.logout();\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { createField, Input } from \"../common/Forms/Forms\";\nimport { required } from \"../../utils/validators/validators\";\nimport { connect } from \"react-redux\";\nimport { login, logout } from \"../../redux/auth-reducer\";\nimport { Redirect } from \"react-router-dom\";\nimport c from \"./../common/Forms/Forms.module.css\";\n\nconst Login = (props) => {\n  let onSubmit = (formData) => {\n    props.login(formData.email, formData.password, formData.rememberMe);\n  };\n\n  if (props.isAuth) {\n    return <Redirect to={\"/profile\"} />;\n  }\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <LoginReduxForm onSubmit={onSubmit} />\n    </div>\n  );\n};\n\nconst LoginForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      {createField(\"Email\", \"email\", Input, \"null\", [required])}\n      {createField(\"Password\", \"password\", Input, \"password\", [required])}\n      {createField(\n        \"null\",\n        \"rememberMe\",\n        Input,\n        \"checkbox\",\n        null,\n        \"Remember Me\"\n      )}\n\n      {props.error && <div className={c.formSummaryError}>{props.error}</div>}\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({\n  form: \"login\",\n})(LoginForm);\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps, { login, logout })(Login);\n","import { getAuthUserData } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const initializedSuccess = () => ({\n  type: INITIALIZED_SUCCESS,\n});\n\n//санки ниже\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  //dispatch(smth())\n  //dispatch(smth())\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n  ProfilePage: profileReducer,\n  DialogsPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { BrowserRouter, Route, withRouter } from \"react-router-dom\";\n\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport { connect, Provider } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport Loader from \"./components/common/Preloader/Loader\";\nimport store from \"./redux/redux-store\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\n\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Loader />;\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <React.Suspense fallback={<Loader />}>\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => <ProfileContainer />}\n            />\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n          </React.Suspense>\n          <Route path=\"/login\" render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nlet MainApp = (props) => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default MainApp;\n","import \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageButtons\":\"Pagination_pageButtons__1MQ51\",\"paginator\":\"Pagination_paginator__3oEmy\",\"pageNumber\":\"Pagination_pageNumber__3pkQT\",\"selectedPage\":\"Pagination_selectedPage__1Gk1E\",\"button\":\"Pagination_button__2IiNe\",\"button1\":\"Pagination_button1__1cfIm\"};","import React from \"react\";\nimport c from \"./Forms.module.css\";\nimport { required } from \"../../../utils/validators/validators\";\nimport { Field } from \"redux-form\";\n\nexport const FormControl = ({ input, meta, child, ...props }) => {\n  const hasError = meta.touched && meta.error;\n  return (\n    <div className={c.formControl + \" \" + (hasError ? c.error : \"\")}>\n      <div>{props.children}</div>\n      {hasError && <span>{meta.error}</span>}\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, children, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n};\nexport const createField = (\n  placeholder,\n  name,\n  component,\n  type,\n  validators,\n  text = \"\",\n  props = {}\n) => (\n  <div>\n    <Field\n      placeholder={placeholder}\n      name={name}\n      component={component}\n      type={type}\n      validate={validators}\n      {...props}\n    />\n    {text}\n  </div>\n);\n","import React from \"react\";\nimport c from \"./Loader.module.css\";\n\nlet Loader = () => {\n  return <div className={c.lds_hourglass}></div>;\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Forms_formControl__COqvX\",\"error\":\"Forms_error__zBMOz\",\"formSummaryError\":\"Forms_formSummaryError__jkbVY\"};","export const required = (value) => {\n  if (value) return undefined;\n  return \"Field can't be empty\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value && value.length > maxLength) {\n    return `max length is ${maxLength} symbols`;\n  }\n  return undefined;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2eOoP\",\"loginBlock\":\"Header_loginBlock__2uZRM\",\"activeLink\":\"Header_activeLink__tFhSe\"};","import { authAPI, profileAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nconst DELETE_POST = \"DELETE_POST\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"You remind me of my bimmer\", likes: \"❤ 240\" },\n    {\n      id: 2,\n      message: \"A lot of trunk space, the perfect two seater\",\n      likes: \"❤ 124\",\n    },\n    {\n      id: 3,\n      message: \"You got a lot of drive I'm trying to keep up\",\n      likes: \"❤ 420\",\n    },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      let newPost = {\n        id: 4,\n        message: action.newPostElement,\n        likes: \"❤ 0\",\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n        newPostElement: \"\",\n      };\n    }\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.id != action.postID),\n      };\n    }\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostElement) => ({\n  type: ADD_POST,\n  newPostElement,\n});\n\nexport const deletePostActionCreator = (postID) => ({\n  type: DELETE_POST,\n  postID,\n});\n\nexport const setStatus = (status) => ({\n  type: SET_STATUS,\n  status,\n});\n\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\n\n// санки ниже\nexport const getProfile = (userID) => {\n  return (dispatch) => {\n    profileAPI\n      .getProfile(userID)\n      .then((response) => dispatch(setUserProfile(response.data)));\n  };\n};\n\nexport const getStatus = (userID) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getStatus(userID);\n    dispatch(setStatus(response.data));\n  };\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport default profileReducer;\n"],"sourceRoot":""}