{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","className","c","ava","src","photos","large","alt","text","aboutMe","fullName","contacts","vk","Loader","Post","post","message","likes","maxLength10","maxLengthCreator","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","MyPosts","console","log","postsElement","posts","reverse","map","p","key","id","post_block","values","addPost","newPostElement","MyPostsContainer","connect","state","ProfilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","loggedUserID","history","push","getProfile","getStatus","React","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.5fed75a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"ProfileInfo_ava__3Tmw6\",\"text\":\"ProfileInfo_text__s6mgv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_block\":\"MyPosts_post_block__hYCcE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__39NcM\"};","import React, { useEffect, useState } from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n  //let stateWithSetState = useState(false);\n  //let editMode = stateWithSetState[0];\n  //let setEditMode = stateWithSetState[1];\n\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  let activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  let deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n\n  return (\n    <>\n      {!editMode && (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || \"Your status can be here!\"}\n          </span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport c from \"./ProfileInfo.module.css\";\nimport Loader from \"../../common/Preloader/Loader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\n  if (!profile) {\n    return <Loader />;\n  }\n\n  return (\n    <div>\n      {/* <img\n        src=\"https://centralsauce.com/wp-content/uploads/2018/09/flowerboy_visual1-1024x576.jpg\"\n        alt=\"\"\n      />*/}\n      <div>\n        <div className={c.ava}>\n          <img src={profile.photos.large} alt=\"\" />\n          <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n        </div>\n        <div className={c.text}>{profile.aboutMe}</div>\n        <div className={c.text}>{profile.fullName}</div>\n        <div className={c.text}>{profile.contacts.vk}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport c from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={c.post}>\n      <img\n        src=\"https://e-cdns-images.dzcdn.net/images/artist/84ff06f377b881b355e0959f750f5a1b/500x500.jpg\"\n        alt=\"\"\n      />\n      {props.message}\n      <div>\n        <span>like </span>\n        {props.likes}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport c from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {\n  maxLengthCreator,\n  required,\n} from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/Forms/Forms\";\n\nconst MyPosts = (props) => {\n  console.log(\"RENDER\");\n  let postsElement = [...props.posts]\n    .reverse()\n    .map((p) => <Post message={p.message} key={p.id} likes={p.likes} />);\n\n  let addNewPost = (values) => {\n    props.addPost(values.newPostElement);\n  };\n\n  return (\n    <div className={c.post_block}>\n      <h3>My post</h3>\n      <AddPostReduxForm onSubmit={addNewPost} />\n      <div>new post</div>\n      {postsElement}\n    </div>\n  );\n};\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          name={\"newPostElement\"}\n          component={Textarea}\n          placeholder={\"Your text here\"}\n          validate={[required, maxLength10]}\n        />\n      </div>\n      <div>\n        <button>Add Post</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddPostReduxForm = reduxForm({\n  form: \"profileAddPostForm\",\n})(AddPostForm);\n\nexport default MyPosts;\n","import React from \"react\";\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.ProfilePage.posts,\n    newPostText: state.ProfilePage.newPostText,\n  };\n};\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostElement) => {\n      dispatch(addPostActionCreator(newPostElement));\n    },\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport c from \"./Profile.module.css\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport {\n  getProfile,\n  getStatus,\n  updateStatus,\n} from \"../../redux/profile-reducer\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.loggedUserID;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getProfile(userId);\n    this.props.getStatus(userId);\n  }\n\n  render() {\n    return (\n      <div>\n        <Profile\n          {...this.props}\n          profile={this.props.profile}\n          status={this.props.status}\n          updateStatus={this.props.updateStatus}\n        />\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  profile: state.ProfilePage.profile,\n  status: state.ProfilePage.status,\n  loggedUserID: state.auth.userId,\n  isAuth: state.auth.isAuth,\n});\n\nexport default compose(\n  connect(mapStateToProps, { getProfile, getStatus, updateStatus }),\n  withRouter\n  // withAuthRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}